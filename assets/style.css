:root{
  --bg:#0f0f12; --panel:#16161b; --brd:#23232a; --fg:#ececf2; --muted:#a8a8b3; --accent:#7c3aed;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
/* Home */
.home .hero{padding:40px 0;background:linear-gradient(180deg,#101014,#0b0b0e 70%)}
.container{max-width:1080px;margin:0 auto;padding:0 20px}
.pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid #2a2a33;background:#1d1d24;color:#c7c7d3;font-size:13px}
.home h1{font-size:36px;margin:14px 0 8px;line-height:1.1}
.home .lead{color:var(--muted);font-size:18px;max-width:60ch}
.card{margin-top:18px;background:var(--panel);border:1px solid var(--brd);border-radius:12px;padding:16px}
.card h3{margin:0 0 6px}
.card ul{margin:8px 0 0 18px;line-height:1.6}
.note{color:#a8a8b3;font-size:13px;margin-top:8px}
.cta{display:inline-block;background:var(--accent);color:#fff;text-decoration:none;padding:12px 16px;border-radius:10px;font-weight:700;margin-top:14px;transition:.2s transform}
.cta:hover{transform:translateY(-1px)}
.footer{border-top:1px solid var(--brd);padding:16px 0;color:#a0a0aa;font-size:13px}

/* App */
.top{display:flex;gap:8px;align-items:center;padding:10px 12px;border-bottom:1px solid var(--brd);background:#111116;position:sticky;top:0;z-index:1000}
.top strong{font-size:14px;margin-right:6px}
.top input,.top select,.top button{padding:8px 10px;border-radius:8px;border:1px solid var(--brd);background:#1a1a21;color:var(--fg)}
.top button{background:var(--accent);border-color:#6132cc;font-weight:600;cursor:pointer}
.hint{margin-left:auto;color:#9aa0ab;font-size:12px}

.banner{display:none;padding:10px 12px;border-bottom:1px solid #b45309;background:#2b1f10;color:#fcd9b6}

.wrap{display:grid;grid-template-columns:360px 1fr;height:calc(100vh - 54px)}
#sidebar{background:var(--panel);border-right:1px solid var(--brd);overflow:auto}
#map{height:100%;width:100%}

.h{padding:10px 12px;border-bottom:1px solid var(--brd);display:flex;align-items:center;gap:8px}
.h .title{font-weight:700}
.h .small{color:var(--muted);font-size:12px;margin-left:auto}

.list{padding:8px}
.item{border:1px solid var(--brd);border-radius:10px;padding:10px;margin-bottom:8px;background:#17171e;cursor:pointer;transition:transform .06s}
.item:hover{transform:translateY(-1px)}
.name{font-weight:700}
.meta{font-size:12px;color:#c2c2ce}
.badge{display:inline-block;padding:2px 6px;border-radius:6px;border:1px solid #3a3a44;font-size:11px;margin-left:6px}
.ips{font-weight:700}
.dist{font-size:12px;color:#9aa0ab}

.note{font-size:12px;color:#9aa0ab;padding:6px 12px;border-top:1px solid var(--brd)}
.footer{padding:8px 12px;border-top:1px solid var(--brd);font-size:12px;color:#a0a0aa}

.src-pin{transform:translate(-12px,-12px);width:24px;height:24px;border-radius:50%;background:#2563eb;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700}

.sectionTitle{font-weight:800;margin:6px 0 8px;font-size:14px}
.pill.small{padding:2px 6px;font-size:11px}

.legend{position:absolute;bottom:12px;left:12px;background:#fff;color:#111;padding:8px 10px;border:1px solid #ddd;border-radius:8px;font-size:13px;line-height:1.35;z-index:400}

/* Mobile */
@media (max-width: 920px){
  .wrap{grid-template-columns:1fr}
  #sidebar{height:45vh}
  #map{height:55vh}
}
